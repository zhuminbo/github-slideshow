<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>diagrams.net</title>
<meta http-equiv="refresh" content="0;URL='https://app.diagrams.net/?libs=general#Hzhuminbo%2Fgithub-slideshow%2Fmaster%2Fscript%2Fmapreduce%20.drawio.html'"/>
<meta charset="utf-8"/>
</head>
<body>
<div class="mxgraph" style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;resize&quot;:true,&quot;xml&quot;:&quot;&lt;mxfile host=\&quot;app.diagrams.net\&quot; modified=\&quot;2022-09-23T08:08:15.189Z\&quot; agent=\&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36 HBPC/12.0.0.300\&quot; etag=\&quot;9Cew_1vwL3OPtZqtwMat\&quot; version=\&quot;20.3.3\&quot; type=\&quot;github\&quot;&gt;&lt;diagram id=\&quot;yPxyJZ8AM_hMuL3Unpa9\&quot; name=\&quot;complex gitflow\&quot;&gt;&lt;mxGraphModel dx=\&quot;11520\&quot; dy=\&quot;2413\&quot; grid=\&quot;1\&quot; gridSize=\&quot;44\&quot; guides=\&quot;1\&quot; tooltips=\&quot;1\&quot; connect=\&quot;1\&quot; arrows=\&quot;1\&quot; fold=\&quot;1\&quot; page=\&quot;1\&quot; pageScale=\&quot;1\&quot; pageWidth=\&quot;5000\&quot; pageHeight=\&quot;6000\&quot; math=\&quot;0\&quot; shadow=\&quot;0\&quot;&gt;&lt;root&gt;&lt;mxCell id=\&quot;0\&quot;/&gt;&lt;mxCell id=\&quot;1\&quot; parent=\&quot;0\&quot;/&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-13\&quot; value=\&quot;已经有那么多文件系统了，为什么还需要hdfs？\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=37;labelBackgroundColor=none;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1105\&quot; y=\&quot;88\&quot; width=\&quot;792\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-14\&quot; value=\&quot;因为hdfs暴露块的位置信息、偏移量，能支持分布式计算&amp;lt;br style=&amp;quot;font-size: 36px;&amp;quot;&amp;gt;&amp;lt;br style=&amp;quot;font-size: 36px;&amp;quot;&amp;gt;能自定义读取文件哪些block，这是分治计算，并行的核心\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=36;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;955.5\&quot; y=\&quot;176\&quot; width=\&quot;924\&quot; height=\&quot;176\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-17\&quot; value=\&quot;存储模型&amp;lt;br style=&amp;quot;font-size: 41px;&amp;quot;&amp;gt;\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fontSize=41;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;962.5\&quot; y=\&quot;903.5\&quot; width=\&quot;204\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-20\&quot; value=\&quot;3.&amp;amp;nbsp; hdfs理论\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=63;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;-26\&quot; y=\&quot;1805\&quot; width=\&quot;352\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-22\&quot; value=\&quot;文件按字节线性切割成块，offset（字节偏移量），id\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1284.5\&quot; y=\&quot;572\&quot; width=\&quot;484\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-25\&quot; value=\&quot;文件与文件的&amp;lt;font style=&amp;quot;font-size: 19px;&amp;quot;&amp;gt;block可以不一样&amp;lt;/font&amp;gt;\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1302.5\&quot; y=\&quot;616\&quot; width=\&quot;270\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-26\&quot; value=\&quot;一个文件除最后一个block，其他大小都一样\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1297.5\&quot; y=\&quot;676\&quot; width=\&quot;390\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-29\&quot; value=\&quot;block大小根据硬件io调整\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1297.5\&quot; y=\&quot;736\&quot; width=\&quot;240\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-30\&quot; value=\&quot;block被分散在集群的节点中，具有location\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1297.5\&quot; y=\&quot;796\&quot; width=\&quot;390\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-35\&quot; value=\&quot;block具有副本，副本没有主从概念，&amp;lt;br&amp;gt;不能出现在一个节点中\&quot; style=\&quot;text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1311.5\&quot; y=\&quot;869\&quot; width=\&quot;330\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-43\&quot; value=\&quot;\&quot; style=\&quot;shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;size=0.5;perimeterSpacing=5;strokeWidth=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1185.5\&quot; y=\&quot;583\&quot; width=\&quot;99\&quot; height=\&quot;701\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-46\&quot; value=\&quot;副本是满足可靠性和性能的关键\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1319.5\&quot; y=\&quot;953\&quot; width=\&quot;284\&quot; height=\&quot;34\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-53\&quot; value=\&quot;文件上传可以指定大小，副本数，上传后只能修改副本数\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1316\&quot; y=\&quot;1240\&quot; width=\&quot;493\&quot; height=\&quot;34\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-54\&quot; value=\&quot;一次写入多次读取，不能修改\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1311.5\&quot; y=\&quot;1111\&quot; width=\&quot;265\&quot; height=\&quot;34\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-55\&quot; value=\&quot;支持追加数据\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1319.5\&quot; y=\&quot;1064\&quot; width=\&quot;132\&quot; height=\&quot;34\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-198\&quot; value=\&quot;不能操纵块，只能增删改文件\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1319.5\&quot; y=\&quot;1152\&quot; width=\&quot;264\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-199\&quot; value=\&quot;hadoop计算向数据移动\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=36;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1219.5\&quot; y=\&quot;396\&quot; width=\&quot;396\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-200\&quot; value=\&quot;架构\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fontSize=41;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1047\&quot; y=\&quot;1515\&quot; width=\&quot;125\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-201\&quot; value=\&quot;\&quot; style=\&quot;shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;size=0.5;perimeterSpacing=5;strokeWidth=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1172\&quot; y=\&quot;1439\&quot; width=\&quot;99\&quot; height=\&quot;212\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-202\&quot; value=\&quot;hdfs是一个主从架构，由1个namenode和多个datanode组成，&amp;lt;br&amp;gt;nn负责存储和管理文件的元数据，并维护一个层次型的目录树\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1298\&quot; y=\&quot;1417\&quot; width=\&quot;528\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-203\&quot; value=\&quot;dn负责存储datanode，并提供读写\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1292\&quot; y=\&quot;1505\&quot; width=\&quot;308\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-204\&quot; value=\&quot;dn和nn维持心跳，并汇报持有的block信息\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1281\&quot; y=\&quot;1549\&quot; width=\&quot;396\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-205\&quot; value=\&quot;客户端client&amp;amp;nbsp;与nn交互文件元数据metadata，与dn交互文件block数据\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1281\&quot; y=\&quot;1607\&quot; width=\&quot;616\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-206\&quot; value=\&quot;角色即进程，通用来说一个角色就是一个jvm进程\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1293\&quot; y=\&quot;1727\&quot; width=\&quot;440\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-207\&quot; value=\&quot;namenode ：完全基于内存存储元数据，目录结构、文件block映射&amp;lt;br&amp;gt;\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1298\&quot; y=\&quot;1783\&quot; width=\&quot;572\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-208\&quot; value=\&quot;提供副本放置策略\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1400\&quot; y=\&quot;1827\&quot; width=\&quot;176\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-209\&quot; value=\&quot;datanode：基于本地磁盘存储block，并保存block校验和保证数据可靠性&amp;lt;br&amp;gt;与namenode保持心跳，汇报block列表状态\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1298\&quot; y=\&quot;1881\&quot; width=\&quot;616\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-210\&quot; value=\&quot;\&quot; style=\&quot;shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;size=0.5;perimeterSpacing=5;strokeWidth=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1182\&quot; y=\&quot;1727\&quot; width=\&quot;99\&quot; height=\&quot;212\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-211\&quot; value=\&quot;角色\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fontSize=41;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1047\&quot; y=\&quot;1803\&quot; width=\&quot;125\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-212\&quot; value=\&quot;元数据持久化\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fontSize=41;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;924\&quot; y=\&quot;2265\&quot; width=\&quot;258\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-213\&quot; value=\&quot;任何对元数据的修改操作，nn都会使用editl.log的日志记录下来&amp;lt;br&amp;gt;\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1281\&quot; y=\&quot;2047\&quot; width=\&quot;572\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-214\&quot; value=\&quot;用最近时点的fsimage（快照）+增量的editslog(日志）的方式持久化\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1271\&quot; y=\&quot;2251\&quot; width=\&quot;616\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-215\&quot; value=\&quot;\&quot; style=\&quot;shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;size=0.5;perimeterSpacing=5;strokeWidth=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1185\&quot; y=\&quot;2059\&quot; width=\&quot;99\&quot; height=\&quot;472\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-216\&quot; value=\&quot;日志的特点：&amp;amp;nbsp;记录实时发生的增删改操作，完整性比较好，&amp;lt;br&amp;gt;但是加载缓慢，占用空间大\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1281\&quot; y=\&quot;2091\&quot; width=\&quot;528\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-217\&quot; value=\&quot;快照特点：&amp;amp;nbsp;间隔时间，内存全量数据基于某一时间点向磁盘进行序列化溢写，&amp;lt;br&amp;gt;，加载速度快，但是间隔时间的，容易丢失数据\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1289\&quot; y=\&quot;2163\&quot; width=\&quot;660\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-220\&quot; value=\&quot;元数据：文件属性（文件有多少副本，有多少个块，path：/**/**/**），文件的每个块存在哪个dn上\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1284\&quot; y=\&quot;2333\&quot; width=\&quot;836\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-221\&quot; value=\&quot;在持久化的时候，文件的属性会持久化，&amp;lt;br&amp;gt;但block块在哪个dn上不会持久化&amp;lt;br&amp;gt;分布式时代，数据一致性很重要&amp;lt;br&amp;gt;等dn心跳\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;fontColor=#FF3399;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1284\&quot; y=\&quot;2399\&quot; width=\&quot;352\&quot; height=\&quot;132\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-223\&quot; value=\&quot;block副本放置策略\&quot; style=\&quot;rounded=0;whiteSpace=wrap;html=1;fontSize=41;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;792\&quot; y=\&quot;2699\&quot; width=\&quot;377\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-224\&quot; value=\&quot;第一个副本放置在提交的dn上，&amp;lt;br&amp;gt;如果是集群提交的，随机选一台磁盘&amp;lt;br&amp;gt;不太慢，cpu不太忙的\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1276\&quot; y=\&quot;2619\&quot; width=\&quot;352\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-225\&quot; value=\&quot;第二个副本，出机架，因为有可能只有2个副本\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1268\&quot; y=\&quot;2723\&quot; width=\&quot;440\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-226\&quot; value=\&quot;第三个副本和第二个副本同机架，io成本，跨交换机流式成本\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=19;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1284\&quot; y=\&quot;2795\&quot; width=\&quot;528\&quot; height=\&quot;44\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-228\&quot; value=\&quot;\&quot; style=\&quot;shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;size=0.5;perimeterSpacing=5;strokeWidth=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1169\&quot; y=\&quot;2619\&quot; width=\&quot;99\&quot; height=\&quot;220\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-230\&quot; value=\&quot;写流程\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;802\&quot; y=\&quot;2927\&quot; width=\&quot;132\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-238\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=41;fontColor=#1A1A1A;startArrow=none;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; target=\&quot;icVVEVpQdX9dbwhuplYN-234\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;1154.0000000000005\&quot; y=\&quot;3393.9999999999995\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-232\&quot; value=\&quot;hdfs客户端\&quot; style=\&quot;whiteSpace=wrap;html=1;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1012\&quot; y=\&quot;3070\&quot; width=\&quot;264\&quot; height=\&quot;110\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-233\&quot; value=\&quot;nn\&quot; style=\&quot;whiteSpace=wrap;html=1;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2566\&quot; y=\&quot;3059\&quot; width=\&quot;286\&quot; height=\&quot;132\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-247\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=41;fontColor=#1A1A1A;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=none;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;icVVEVpQdX9dbwhuplYN-248\&quot; target=\&quot;icVVEVpQdX9dbwhuplYN-236\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;1346\&quot; y=\&quot;3523.6666666666665\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-234\&quot; value=\&quot;dn\&quot; style=\&quot;whiteSpace=wrap;html=1;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1094\&quot; y=\&quot;3494\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-257\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=41;fontColor=#1A1A1A;startArrow=none;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;icVVEVpQdX9dbwhuplYN-250\&quot; target=\&quot;icVVEVpQdX9dbwhuplYN-235\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-236\&quot; value=\&quot;dn\&quot; style=\&quot;whiteSpace=wrap;html=1;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1681\&quot; y=\&quot;3494\&quot; width=\&quot;176\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-243\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;fontSize=41;fontColor=#1A1A1A;startArrow=none;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;1334\&quot; y=\&quot;3070\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;2566\&quot; y=\&quot;3089.712\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;Array as=\&quot;points\&quot;&gt;&lt;mxPoint x=\&quot;1334\&quot; y=\&quot;3070\&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-248\&quot; value=\&quot;tcp&amp;amp;nbsp;流式传输\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1267.5\&quot; y=\&quot;3480\&quot; width=\&quot;264\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-249\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=41;fontColor=#1A1A1A;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=none;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;icVVEVpQdX9dbwhuplYN-234\&quot; target=\&quot;icVVEVpQdX9dbwhuplYN-248\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;1522\&quot; y=\&quot;3524\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;mxPoint x=\&quot;1214.0000000000005\&quot; y=\&quot;3524\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-235\&quot; value=\&quot;dn\&quot; style=\&quot;whiteSpace=wrap;html=1;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;2446\&quot; y=\&quot;3494\&quot; width=\&quot;120\&quot; height=\&quot;60\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-250\&quot; value=\&quot;tcp&amp;amp;nbsp;流式传输\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1964\&quot; y=\&quot;3480\&quot; width=\&quot;264\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-258\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=41;fontColor=#1A1A1A;endArrow=none;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; source=\&quot;icVVEVpQdX9dbwhuplYN-236\&quot; target=\&quot;icVVEVpQdX9dbwhuplYN-250\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;1857\&quot; y=\&quot;3524\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;2446\&quot; y=\&quot;3524\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-239\&quot; value=\&quot;write&amp;amp;nbsp;packet （把block块切成packet）\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=41;fontColor=#1A1A1A;rotation=0;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;802\&quot; y=\&quot;3306\&quot; width=\&quot;704\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-260\&quot; value=\&quot;\&quot; style=\&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=41;fontColor=#1A1A1A;endArrow=none;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;1154.0000000000005\&quot; y=\&quot;3202\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;1154.0000000000005\&quot; y=\&quot;3306\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-263\&quot; value=\&quot;客户端给nn连接，创建元数据\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1542\&quot; y=\&quot;2982\&quot; width=\&quot;572\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-264\&quot; value=\&quot;nn判断元数据是否有效（panth，权限），触发副本放置策略，返回一个dn列表\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1226\&quot; y=\&quot;3180\&quot; width=\&quot;1452\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-266\&quot; value=\&quot;\&quot; style=\&quot;endArrow=classic;html=1;rounded=0;fontSize=41;fontColor=#1A1A1A;startArrow=none;exitX=0.005;exitY=0.888;exitDx=0;exitDy=0;exitPerimeter=0;entryX=1;entryY=0.75;entryDx=0;entryDy=0;\&quot; edge=\&quot;1\&quot; parent=\&quot;1\&quot; target=\&quot;icVVEVpQdX9dbwhuplYN-232\&quot;&gt;&lt;mxGeometry width=\&quot;50\&quot; height=\&quot;50\&quot; relative=\&quot;1\&quot; as=\&quot;geometry\&quot;&gt;&lt;mxPoint x=\&quot;2525.4300000000003\&quot; y=\&quot;3176.2160000000003\&quot; as=\&quot;sourcePoint\&quot;/&gt;&lt;mxPoint x=\&quot;1280.5\&quot; y=\&quot;3202\&quot; as=\&quot;targetPoint\&quot;/&gt;&lt;Array as=\&quot;points\&quot;&gt;&lt;mxPoint x=\&quot;2068\&quot; y=\&quot;3147\&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-267\&quot; value=\&quot;64m&amp;amp;nbsp; packet\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=41;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1252\&quot; y=\&quot;3553\&quot; width=\&quot;264\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-268\&quot; value=\&quot;\&quot; style=\&quot;shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;shadow=0;size=0.5;perimeterSpacing=5;strokeWidth=1;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;390\&quot; y=\&quot;484\&quot; width=\&quot;99\&quot; height=\&quot;3828\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-270\&quot; value=\&quot;ha模式\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=37;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;616\&quot; y=\&quot;4004\&quot; width=\&quot;132\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-271\&quot; value=\&quot;单点故障&amp;lt;br&amp;gt;&amp;lt;div style=&amp;quot;text-align: center;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial; text-align: right;&amp;quot;&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&amp;quot;text-align: center;&amp;quot;&amp;gt;&amp;lt;span style=&amp;quot;background-color: initial; text-align: right;&amp;quot;&amp;gt;：多个nn，主备切换&amp;lt;/span&amp;gt;&amp;lt;/div&amp;gt;\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=37;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1124\&quot; y=\&quot;3740\&quot; width=\&quot;352\&quot; height=\&quot;176\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-272\&quot; value=\&quot;主压力过大，内存受限制&amp;lt;br&amp;gt;&amp;lt;br&amp;gt;：元数据分片&amp;lt;br&amp;gt;多个nn管理不同的元数据&amp;lt;br&amp;gt;\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=37;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;1105\&quot; y=\&quot;4158\&quot; width=\&quot;440\&quot; height=\&quot;220\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-273\&quot; value=\&quot;cap原则：&amp;lt;br&amp;gt;一致性，&amp;lt;br&amp;gt;可用性，&amp;lt;br&amp;gt;分区容忍性，&amp;lt;br&amp;gt;在一个集群中只能有2个\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=37;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;944\&quot; y=\&quot;4498\&quot; width=\&quot;440\&quot; height=\&quot;264\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-274\&quot; value=\&quot;mapreduce理论\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=64;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;-4906\&quot; y=\&quot;2134.5\&quot; width=\&quot;484\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-275\&quot; value=\&quot;\&quot; style=\&quot;shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;fontSize=64;fontColor=#1A1A1A;size=0.5;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;-4422\&quot; y=\&quot;308\&quot; width=\&quot;64\&quot; height=\&quot;3872\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=\&quot;icVVEVpQdX9dbwhuplYN-276\&quot; value=\&quot;map：&amp;amp;nbsp;以一条记录为单位做映射\&quot; style=\&quot;text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontSize=64;fontColor=#1A1A1A;\&quot; vertex=\&quot;1\&quot; parent=\&quot;1\&quot;&gt;&lt;mxGeometry x=\&quot;-3916\&quot; y=\&quot;352\&quot; width=\&quot;924\&quot; height=\&quot;88\&quot; as=\&quot;geometry\&quot;/&gt;&lt;/mxCell&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;&quot;,&quot;toolbar&quot;:&quot;pages zoom layers lightbox&quot;,&quot;page&quot;:0}"></div>
<a style="position:absolute;top:50%;left:50%;margin-top:-128px;margin-left:-64px;" href="https://app.diagrams.net/?libs=general#Hzhuminbo%2Fgithub-slideshow%2Fmaster%2Fscript%2Fmapreduce%20.drawio.html" target="_blank"><img border="0" src="https://app.diagrams.net/images/drawlogo128.png"/></a>
</body>
</html>
